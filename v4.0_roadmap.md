# SRA Roadmap v4.0: The Specification Ecosystem

This document is the **Master Technical Specification** for the SRA v4.0 evolution. It serves as both a public-facing roadmap and an internal engineering blueprint for the "Spec-Driven Development" (SDD) vision.

---

## üèõÔ∏è Pillar 1: Advanced AI Orchestration (Agentic Reflection) [DONE]
**Status**: Implemented (v4.0.0)
**Goal**: Transition from a linear "Generation" phase to a non-linear "Refinement" phase.

### Logic Flow
1. **Developer Agent**: Drafts the primary SRS structure. [Code ref: DeveloperAgent.js](file:///c:/3rd%20Year/SRA/backend/src/agents/DeveloperAgent.js)
2. **The Reflection Loop**:
    - **Reviewer Agent**: Audits for security and consistency. [Code ref: ReviewerAgent.js](file:///c:/3rd%20Year/SRA/backend/src/agents/ReviewerAgent.js)
    - **Critic Agent**: Audits against the **6Cs** quality metrics. [Code ref: CriticAgent.js](file:///c:/3rd%20Year/SRA/backend/src/agents/CriticAgent.js)
3. **Autonomous Refinement**: If the quality score is < 8.5 or security issues are found, the feedback is fed back to the Developer Agent for a **Refinement Pass** (max 2 loops).

---

## üîó Pillar 2: Advanced Document Intelligence & Reuse [PARTIAL]
**Status**: Core Recycling Implemented (v4.0.0)
**Goal**: Move from "one-off" PDFs to a shared organization-wide library of requirements.

### Key Components
*   **Intelligent Recycling**: Upgrading [aiService.js](backend/src/services/aiService.js) to perform "Semantic Fragment Search." If a user starts a payment module, SRA suggests the best-performing requirements from past project PDFs.
*   **The Multi-Artifact Suite**: From one source of truth, generate:
    *   **SRS PDF**: The technical build spec.
    *   **User Manual PDF**: Non-technical functionally-driven guide.
    *   **Test Plan PDF**: Verification logic derived directly from Functional Requirements.

---

## ü§ù Pillar 3: Real-time Collaboration & Workspace UX
**Goal**: Turn the SRA Web Dashboard into a stakeholder-safe collaborative hub.

### Infrastructure
*   **Multi-User Sync**: Using WebSockets/CRDTs to allow concurrent requirement editing between the Client and the Architect.
*   **Visual Traceability (D3 Interactive)**:
    - Click any requirement to see a **visual beam** connecting it to its User Story and DFD node.
    - Interactive 3D Graphs that allow "drilling down" from high-level features to line-by-line requirements.

---

## üõ°Ô∏è Pillar 4: Deep Quality & Compliance [DONE]
**Status**: Implemented (v4.0.0)
**Goal**: Automated compliance verification against global standards.

### Technical Shift
*   **The LLM-Judge**: Replacing heuristic keyword checks in [qualityService.js](backend/src/services/qualityService.js) with context-aware semantic auditing.
*   **IEEE-830 Proof**: Automated generation of a "Compliance Report" attached to the PDF, proving 100% adherence to all sub-clauses.
*   **Test Generation**: Exporting functional requirements directly as **Gherkin/Cucumber** scenarios or **Vitest** stubs.

---

## üõ†Ô∏è Pillar 5: Developer Experience (The Sync Pillar)
**Goal**: Ensure the PDF never lies. The implementation and the document stay in 100% harmony.

### The Problem Story: "The Tale of the Drifting PDF"
**Alex** (Developer) builds a feature. He improves the logic in VS Code but forgets to update the **PDF** (written by **Sarah**, the PM). The PDF becomes a "liar," lead to failed tests and client confusion. Pillar 5 solves this by making the PDF and Code **Best Friends.**

### Implementation Mechanics
1. **`sra.spec.json`**: A hidden manifest in the code repo containing semantic hashes of the requirements.
2. **SRA CLI**: A tool installed via `npm install -g sra-cli` for the VS Code terminal.
3. **Reverse-Engineering**: The ability for SRA to read 500 lines of existing code and **generate the SRS PDF automatically**.
4. **Drift Alerts**: Running `sra check` highlights lines of code that deviate from the approved specification.

---

## üåê The Dual-Interface Architecture

SRA operates as a **Single Brain (Gemini 2.5 Flash)** accessible through two doors:

| Interface | Primary User | Main Activity |
| :--- | :--- | :--- |
| **SRA Web UI** | PMs / Clients | Planning, Diagramming, Stakeholder Approval |
| **SRA CLI** | Developers | Implementation, Linting, Syncing Code to Docs |

---

## üìÖ 2026 Rollout Schedule

| Phase | Milestone | Engineering Focus |
| :--- | :--- | :--- |
| **Q1-2026** | **The Quality Gate** | Reflection Loop, 6Cs Audit, RAG Evaluation, IEEE-830 Alignment [DONE] |
| **Q2-2026** | **The Fragment Hub** | Feature Library, Global Requirement Reuse, Multi-Artifact Generation |
| **Q3-2026** | **The Unified Canvas** | Real-time Collaboration Hub, Interactive D3 Architecture Visualizer |
| **Q4-2026** | **The Developer Sync** | SRA CLI Launch, `sra.spec.json` standard, Code-to-Doc Reverse Engineering |

---

> [!CAUTION]
> This document is the **Source of Truth**. Any implementation that contradicts these pillars must be approved via a "Schema Update" process.
